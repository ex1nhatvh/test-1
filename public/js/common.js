jQuery(document).ready(c=>{function h(){return/furniture_management_system\/request\/[^\/]*\/[^\/]*$/.test(location.pathname)}function k(){f&&(f.each((a,b)=>{a=c(b);b=c("[name='"+a.attr("name")+"']").closest(".col-md-8");b.empty();a.appendTo(b)}),c(".value_file").each(function(a,b){a={overwriteInitial:!0,initialPreviewAsData:!0,browseLabel:"\u53c2\u7167",cancelLabel:"\u53d6\u6d88",showRemove:!1,showUpload:!1,showCancel:!1,dropZoneEnabled:!0,preferIconicPreview:!0,allowedPreviewTypes:["image"],previewFileIcon:'<i class="fa fa-file"></i>',
previewFileIconSettings:{txt:'<i class="fa fa-file text-primary"></i>',xml:'<i class="fa fa-file text-primary"></i>',pdf:'<i class="fa fa-file-pdf-o text-primary"></i>',doc:'<i class="fa fa-file-word-o text-primary"></i>',docx:'<i class="fa fa-file-word-o text-primary"></i>',docm:'<i class="fa fa-file-word-o text-primary"></i>',xls:'<i class="fa fa-file-excel-o text-success"></i>',xlsx:'<i class="fa fa-file-excel-o text-success"></i>',xlsm:'<i class="fa fa-file-excel-o text-success"></i>',ppt:'<i class="fa fa-file-powerpoint-o text-danger"></i>',
pptx:'<i class="fa fa-file-powerpoint-o text-danger"></i>',pptm:'<i class="fa fa-file-powerpoint-o text-danger"></i>',zip:'<i class="fa fa-file-archive-o text-muted"></i>'},deleteExtraData:{_file_del_:"file",_token:"7pYrvrhQdy6UgNlujnJOKPursUixWsft5vDkQAxs",_method:"PUT"},deleteUrl:"https://wework.fox/admin/data/test/1/filedelete",fileActionSettings:{showZoom:!1,showDrag:!1},msgPlaceholder:"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e",showPreview:!0,dropZoneTitle:"\u30d5\u30a1\u30a4\u30eb\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u304f\u3060\u3055\u3044",
uploadLabel:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9",maxFileSize:40960,maxFileSizeHuman:"40 MB",maxFileSizeHelp:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u4e0a\u9650\u30b5\u30a4\u30ba : 40 MB",msgSizeTooLarge:'\u30d5\u30a1\u30a4\u30eb "{name}" (<b>{size} KB</b>) \u306f\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u53ef\u80fd\u306a\u30b5\u30a4\u30ba <b>{maxSize} KB</b> \u3092\u8d85\u3048\u3066\u3044\u307e\u3059\u3002',deletedEvent:"Exment.CommonEvent.CallbackExmentAjax(jqXHR.responseJSON);"};a.initialPreviewConfig&&
0<a.initialPreviewConfig.length&&(a.initialPreviewConfig[0].caption=c(b).data("initial-caption"),a.initialPreviewConfig[0].type=c(b).data("initial-type"),a.initialPreviewConfig[0].downloadUrl=c(b).data("initial-download-url"));c(b).fileinput(a)}),c(".value_file").on("filebeforedelete",function(){return new Promise(function(a,b){swal({title:"\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b\uff1f",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"\u78ba\u8a8d",
showLoaderOnConfirm:!0,cancelButtonText:"\u53d6\u6d88",preConfirm:function(){return new Promise(function(d){d(a())})}})})}),c(".value_file").on("filedeleted",function(a,b,d,e){Exment.CommonEvent.CallbackExmentAjax(d.responseJSON)}),f=null)}let f=null;c(document.body).off("click","[role=tab]").on("click","[role=tab]",a=>{a.preventDefault();c("[role=tab]").removeClass("active");c(a.currentTarget).addClass("active");a=c(a.currentTarget).attr("href");c(".tab-body").removeClass("active");c(a).addClass("active");
return!1}).off("click","[role=fms-hf_registry-save]").on("click","[role=fms-hf_registry-save]",a=>{a.preventDefault();var b=a.currentTarget.href,d=document.forms.hf_registry_save;c.ajax({type:"PUT",url:document.forms.hf_registry_save.action,headers:{"X-HTTP-Method-Override":"PUT","Content-Type":"application/json",Authorization:"Bearer "+a.currentTarget.dataset.token},dataType:"json",data:JSON.stringify({value:{HardFurniture_hard:d.HardFurniture_hard.value,HardFurniture_Chair:d.HardFurniture_Chair.value,
HardFurniture_Peds:d.HardFurniture_Peds.value,HardFurniture_Desk_Defective:d.HardFurniture_Desk_Defective.value,HardFurniture_Chair_Defective:d.HardFurniture_Chair_Defective.value,HardFurniture_Peds_Defective:d.HardFurniture_Peds_Defective.value}})}).then(e=>{location.href=b})}).off("click","[role=btn-form-pjax]").on("click","[role=btn-form-pjax]",a=>{a.preventDefault();var b=a.currentTarget,d=b.getAttribute("formaction")??b.href;a=b.getAttribute("value");const e=b.form??c(b).closest("form")[0];e.action=
d;d=b.dataset.property_id??"";b=b.dataset.room_id??"";h()&&(f=c(e).find("input[type=file]").clone());a&&c("[name=select_type]").val(a);d&&c("[name=select_property]").val(d);b&&c("[name=select_room]").val(b);c(e).submit()}).off("click","#done_input").on("click","#done_input",a=>{a.preventDefault();let b=[];const d=location.pathname.match(/input\/([0-9,]*)$/)??location.pathname.match(/confirm\/([0-9,]*)$/);d&&(b=b.concat(d[1].split(",")));c('[name="input_ids[]"]').each((e,g)=>g.value&&!b.includes(g.value)?
b.push(g.value):null);location.href=a.currentTarget.href+b.toString()});c(document).on("pjax:complete",(a,b,d)=>{h()&&k()})});
